# 基于ROS的足式机器人软件框架设计
> 作者姓名：旦明迪  
> 学院名称：机械工程及自动化  
> 指导老师：梁建宏老师  
> 申请学位：工学学士  

# 1. 绪论
## 1.1 论文背景及目的
### 1.1.1课题来源
随着四足机器人发展逐渐成熟，越来越多的实验室，公司或个人加入到了四足机器人
的研发中，本课题依托于第十八届全国大学生机器人大赛的比赛题目，由北航机器人
队进行研发，计划设计出一个具有基本步态的四足机器人。
第十八届全国大学生机器人大赛以“快马加鞭”为主题，灵感来自古代传递信息的驿传
制度。我国古代为接待来往官员和传递政府文书，军令设立了驿传制度，即每隔三十
里设驿站，供人休息，食宿，换马所需。该制度始于秦，在汉，元，明等朝代不断发
展，是我国古代信息传递的主要方式之一。
如今，信息时代的空前发展，我们渐渐忘记了这种古老的制度，本次机器人大赛通过
机器人演绎驿传制度，让我们重温古老的记忆，感受中华文化的魅力。
### 1.1.2 大赛规则
比赛要求制作两台机器人：轮式机器人和四足机器人。分别完成比赛的前半程和后半
程。本文主要研究四足机器人的控制框架设计，故只简述四足机器人所需完成的任
务。
1）四足机器人接到令牌后，由大漠驿 出发，穿过大漠区。
2）继续前行，越过沙丘（凸起的地形） ，草地（有绳子阻拦的地形）。
3）最后经过高山区（斜坡），到达山 顶区，结束比赛。

> 比赛地图
  
![map](pictures/map.png)


### 1.1.3 项目用于及意义
四足机器人对于地形有着轮式机器人无法比拟的高适应能力，适合复杂地形的工作
环境，可以在工厂里进行安全检查，在救灾现场进行被困人员的搜救，在居民楼中进
行快递的配送等等。因此，近几年，越来越多的实验室，公司甚至个人开始研发足式
机器人，可以预想该方向将来需要一个通用开发框架，使研发人员们避开繁琐或难以
考虑周全的框架设计，专心于更高层的决策控制，从而缩短开发周期。
在足式机器人方面，波士顿动力，苏黎世大学，浙江大学等都取得了令人瞩目的进
展，本文也是通过学习这些成功的设计，尝试总结出一个通用框架，为足式机器人领
域，添块砖，加片瓦。

## 1.2 足式机器人国内外发展现况  
__BostonDynamic SpotMini__  

![SpotMini](pictures/SpotMini3.jpg)

__MIT mini cheetah__  

![SpotMini](pictures/minicheetah.jpg)

__Zurich ANYmal__

![SpotMini](pictures/ANYmal.jpg)

## 我们的四足
![SpotMini](pictures/minitaur_model.png)

### 流程图
![minitaur_flowchar](pictures/minitaur_flowchart.jpg)

## 1.3 课题研究方法

依托机器人队的资金支持，计划设计一款把自由度机器人，在此基础上，进行软件框架的开发与研究。

## 1.4 论文构成及研究内容

所用软件，编程语言，技术储备。
程序框架，程序思路，程序优化。


# 2. 总体方案的选择与论证
## 2.1 研究内容
本次毕业设计主要研究有关四足机器人从硬件层到控制层再到决策层的程序框架如何
搭建，具体内容由底层到上层依次包括：
1. 直流无刷电机驱动的使用。设置驱动的各项参数，从驱动中读电机电流，编码器位
2. 置，电机速度等信息，向驱动发送控制信息（位置模式下发送位置信息，电流		
3. 模式下发送电流信息等等）。
4. 摄像头的使用。由摄像头感知机器人的路径信息，用以规划路径。
5. imu的使用。用以估计机器人的姿态
6. 机器人足端坐标与电机编码器位置的解算，机器人动力学与电机应提供力矩的解
算，imu数据的滤波处理，摄像头视频流的有效信息提取，为运动控制算法做预备。
7. 利用下层传来的机器人各项数据，进行步态控制算法的设计（略）
8. 决策层根据不同地形，实现相应步态的切换，或更高层决策的转换。
9.  设计人机接口程序，方便调试。
# 3. 各个部分的设计计算
# 4. 设计方案的可行性，有效性及实验数据的处理分析
# 5. 改进建议
# 6. 结论
# 7. 致谢
# 8. 参考文献
# 9. 附录
附上源码